{
	"log": {
		"level": "error"
	},
	"dns": {
		"servers": [
			{
				"tag": "remote",
				"type": "tls",
				"server": "1.1.1.1"
			},
			{
				"tag": "local",
				"type": "local"
			}
		],
		"rules": [
			{
				"rule_set": [
					"geosite-telegram",
					"geoip-telegram",
					"torrents",
					"torrent-clients"
				],
				"server": "local"
			},
			{
				"rule_set": ["ru-bundle", "discord-voice-ip-list", "break-wall"],
				"server": "remote",
				"client_subnet": "185.37.56.241/24"
			}
		]
	},
	"inbounds": [
		{
			"type": "tun",
			"tag": "tun-in",
			"interface_name": "tun-freedom",
			"address": ["172.16.0.1/30", "fd00::1/126"],
			"auto_route": true,
			"auto_redirect": true,
			"strict_route": true
		}
	],
	"outbounds": [
		{
			"type": "direct",
			"tag": "direct"
		},
		{
			"tag": "proxy",
			"type": "vless",
			"server": "37.221.125.150",
			"server_port": 443,
			"uuid": "98d48f50-bbe8-4d43-8268-304471947824",
			"flow": "xtls-rprx-vision",
			"tls": {
				"enabled": true,
				"server_name": "www.twitch.tv",
				"utls": {
					"enabled": true,
					"fingerprint": "chrome"
				},
				"reality": {
					"enabled": true,
					"public_key": "DaUuYK1LLHW4Au__i_WlJrgOJOCs668ee3aBt65phno",
					"short_id": "6a06f4ce3afb4d9f"
				}
			}
		}
	],
	"route": {
		"rules": [
			{
				"action": "sniff"
			},
			{
				"type": "logical",
				"mode": "or",
				"rules": [
					{
						"protocol": "dns"
					},
					{
						"port": 53
					}
				],
				"action": "hijack-dns"
			},
			{
				"ip_is_private": true,
				"outbound": "direct"
			},
			{
				"type": "logical",
				"mode": "or",
				"rules": [
					{
						"port": 853
					},
					{
						"network": "udp",
						"port": 443
					},
					{
						"protocol": "stun"
					}
				],
				"action": "reject"
			},
			{
				"rule_set": "torrent-clients",
				"outbound": "direct"
			},
			{
				"rule_set": ["geosite-telegram", "geoip-telegram"],
				"outbound": "direct"
			},
			{
				"rule_set": ["ru-bundle", "discord-voice-ip-list", "break-wall"],
				"outbound": "proxy"
			}
		],
		"rule_set": [
			{
				"type": "remote",
				"tag": "geosite-telegram",
				"format": "binary",
				"url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geosite/telegram.srs"
			},
			{
				"type": "remote",
				"tag": "geoip-telegram",
				"format": "binary",
				"url": "https://github.com/MetaCubeX/meta-rules-dat/raw/sing/geo/geoip/telegram.srs"
			},
			{
				"type": "remote",
				"tag": "ru-bundle",
				"format": "binary",
				"url": "https://github.com/legiz-ru/sb-rule-sets/raw/main/ru-bundle.srs"
			},
			{
				"type": "remote",
				"tag": "discord-voice-ip-list",
				"format": "binary",
				"url": "https://github.com/legiz-ru/sb-rule-sets/raw/main/discord-voice-ip-list.srs"
			},
			{
				"type": "remote",
				"tag": "torrent-clients",
				"format": "binary",
				"url": "https://raw.githubusercontent.com/legiz-ru/sb-rule-sets/main/torrent-clients.srs"
			},
			{
				"type": "inline",
				"tag": "break-wall",
				"rules": [
					{
						"domain": ["2ip.io"],
						"domain_keyword": ["openai", "anthropic", "claude", "zed"],
						"domain_suffix": [
							"perplexity.ai",
							"chatgpt.com",
							"auth0.com",
							"client-api.arkoselabs.com",
							"events.statsigapi.net",
							"featuregates.org",
							"identrust.com",
							"intercom.io",
							"intercomcdn.com",
							"oaistatic.com",
							"oaiusercontent.com",
							"openai.com",
							"openaiapi-site.azureedge.net",
							"sentry.io",
							"stripe.com",
							"bard.google.com",
							"gemini.google.com",
							"makersuite.google.com",
							"anthropic.com",
							"statsig.anthropic.com",
							"console.anthropic.com",
							"api.anthropic.com",
							"claude.ai.com",
							"integrate.api.nvidia.com",
							"llm.zed.dev"
						]
					}
				]
			},
			{
				"type": "inline",
				"tag": "torrents",
				"rules": [
					{
						"source_port": [51413]
					}
				]
			}
		],
		"default_domain_resolver": "local",
		"auto_detect_interface": true
	},
	"experimental": {
		"cache_file": {
			"enabled": true,
			"store_rdrc": true
		},
		"clash_api": {
			"default_mode": "Enhanced"
		}
	}
}
